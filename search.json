[{"path":[]},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement bernat.bramon@gmail.com. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://bernibra.github.io/tagtango/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://bernibra.github.io/tagtango/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 tagtango authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"input-data-requirements","dir":"Articles","previous_headings":"","what":"Input data requirements","title":"tagtango","text":"tagtango flexible handling various data types. date, accepts input form either MultiAssayExperiment R object stored RDS file (Ramos et. al., 2017), SingleCellExperiment R object stored RDS file (Amezquita et. al., 2020), R data frame stored RDS, CSV, TSV file.","code":""},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"multiassayexperiment-object","dir":"Articles","previous_headings":"Input data requirements","what":"MultiAssayExperiment object","title":"tagtango","text":"Providing MultiAssayExperiment object input allow study multiple data modalities simultaneously. However, certain criteria needs met. First, elements ExperimentList container SingleCellExperiment following specifications stated next section. Second, cells elements ExperimentList (unique matching names). Finally, different annotations stored columns colData data frame within object. test dataset, preprocessed annotated 10x dataset provided package. MultiAssayExperiment Peripheral Blood Mononuclear Cells (PBMCs) healthy donor stained TotalSeq-B antibodies (10x Genomics, 2018), readily accessible via: Notice column row names SingleCellExperiment corresponding ExperimentList object NULL, different annotations stored :","code":"library(tagtango) data(test_data) test_data ## A MultiAssayExperiment object of 2 listed ##  experiments with user-defined names and respective classes. ##  Containing an ## ExperimentList class object of length 2: ##  [1] RNA: SingleCellExperiment with 33538 rows and 7472 columns ##  [2] ADT: SingleCellExperiment with 17 rows and 7472 columns ## Functionality: ##  experiments() - obtain the ExperimentList instance ##  colData() - the primary/phenotype DataFrame ##  sampleMap() - the sample coordination DataFrame ##  `$`, `[`, `[[` - extract colData columns, subset, or experiment ##  *Format() - convert into a long or wide DataFrame ##  assays() - convert ExperimentList to a SimpleList of matrices ##  exportClass() - save data to flat files MultiAssayExperiment::colData(test_data) ## DataFrame with 7472 rows and 21 columns ##                                    Sample            Barcode       sum ##                               <character>        <character> <numeric> ## AAACCCAAGATTGTGA-1 /var/folders/w9/2_9f.. AAACCCAAGATTGTGA-1      6160 ## AAACCCACATCGGTTA-1 /var/folders/w9/2_9f.. AAACCCACATCGGTTA-1      6713 ## AAACCCAGTACCGCGT-1 /var/folders/w9/2_9f.. AAACCCAGTACCGCGT-1      3637 ## AAACCCAGTATCGAAA-1 /var/folders/w9/2_9f.. AAACCCAGTATCGAAA-1      1244 ## AAACCCAGTCGTCATA-1 /var/folders/w9/2_9f.. AAACCCAGTCGTCATA-1      2611 ## ...                                   ...                ...       ... ## TTTGTTGGTTCAAGTC-1 /var/folders/w9/2_9f.. TTTGTTGGTTCAAGTC-1      5830 ## TTTGTTGGTTGCATGT-1 /var/folders/w9/2_9f.. TTTGTTGGTTGCATGT-1      4096 ## TTTGTTGGTTGCGGCT-1 /var/folders/w9/2_9f.. TTTGTTGGTTGCGGCT-1      5524 ## TTTGTTGTCGAGTGAG-1 /var/folders/w9/2_9f.. TTTGTTGTCGAGTGAG-1      4039 ## TTTGTTGTCGTTCAGA-1 /var/folders/w9/2_9f.. TTTGTTGTCGTTCAGA-1      4213 ##                     detected subsets_Mito_sum subsets_Mito_detected ##                    <integer>        <numeric>             <integer> ## AAACCCAAGATTGTGA-1      2194              523                    11 ## AAACCCACATCGGTTA-1      2093              415                    11 ## AAACCCAGTACCGCGT-1      1518              287                    11 ## AAACCCAGTATCGAAA-1       737              110                    12 ## AAACCCAGTCGTCATA-1      1240              156                    11 ## ...                      ...              ...                   ... ## TTTGTTGGTTCAAGTC-1      2178              323                    11 ## TTTGTTGGTTGCATGT-1      1256              256                    11 ## TTTGTTGGTTGCGGCT-1      1907              574                    11 ## TTTGTTGTCGAGTGAG-1      1605              271                    10 ## TTTGTTGTCGTTCAGA-1      1549              209                    11 ##                    subsets_Mito_percent altexps_Antibody.Capture_sum ##                               <numeric>                    <numeric> ## AAACCCAAGATTGTGA-1              8.49026                          981 ## AAACCCACATCGGTTA-1              6.18203                         1475 ## AAACCCAGTACCGCGT-1              7.89112                         7149 ## AAACCCAGTATCGAAA-1              8.84244                         6831 ## AAACCCAGTCGTCATA-1              5.97472                         6839 ## ...                                 ...                          ... ## TTTGTTGGTTCAAGTC-1              5.54031                         9520 ## TTTGTTGGTTGCATGT-1              6.25000                         7763 ## TTTGTTGGTTGCGGCT-1             10.39102                         1973 ## TTTGTTGTCGAGTGAG-1              6.70958                         4316 ## TTTGTTGTCGTTCAGA-1              4.96084                         5682 ##                    altexps_Antibody.Capture_detected ##                                            <integer> ## AAACCCAAGATTGTGA-1                                17 ## AAACCCACATCGGTTA-1                                17 ## AAACCCAGTACCGCGT-1                                17 ## AAACCCAGTATCGAAA-1                                17 ## AAACCCAGTCGTCATA-1                                17 ## ...                                              ... ## TTTGTTGGTTCAAGTC-1                                17 ## TTTGTTGGTTGCATGT-1                                17 ## TTTGTTGGTTGCGGCT-1                                17 ## TTTGTTGTCGAGTGAG-1                                17 ## TTTGTTGTCGTTCAGA-1                                16 ##                    altexps_Antibody.Capture_percent     total sizeFactor ##                                           <numeric> <numeric>  <numeric> ## AAACCCAAGATTGTGA-1                          13.7376      7141   1.301038 ## AAACCCACATCGGTTA-1                          18.0142      8188   1.417836 ## AAACCCAGTACCGCGT-1                          66.2804     10786   0.768162 ## AAACCCAGTATCGAAA-1                          84.5944      8075   0.262742 ## AAACCCAGTCGTCATA-1                          72.3704      9450   0.551463 ## ...                                             ...       ...        ... ## TTTGTTGGTTCAAGTC-1                          62.0195     15350   1.231340 ## TTTGTTGGTTGCATGT-1                          65.4608     11859   0.865106 ## TTTGTTGGTTGCGGCT-1                          26.3172      7497   1.166710 ## TTTGTTGTCGAGTGAG-1                          51.6577      8355   0.853067 ## TTTGTTGTCGTTCAGA-1                          57.4229      9895   0.889817 ##                       Main.ADT    Fine.ADT RNA.Azimuth.L1 RNA.Azimuth.L2 ##                    <character> <character>    <character>    <character> ## AAACCCAAGATTGTGA-1   cluster 2   cluster 9           Mono      CD14 Mono ## AAACCCACATCGGTTA-1   cluster 2   cluster 3           Mono      CD14 Mono ## AAACCCAGTACCGCGT-1   cluster 2   cluster 3           Mono      CD14 Mono ## AAACCCAGTATCGAAA-1   cluster 5   cluster 4             NK             NK ## AAACCCAGTCGTCATA-1   cluster 5   cluster 4             NK             NK ## ...                        ...         ...            ...            ... ## TTTGTTGGTTCAAGTC-1   cluster 5   cluster 4              B B intermediate ## TTTGTTGGTTGCATGT-1   cluster 8   cluster 8          CD8 T      CD8 Naive ## TTTGTTGGTTGCGGCT-1   cluster 2   cluster 3           Mono      CD14 Mono ## TTTGTTGTCGAGTGAG-1   cluster 4   cluster 6        other T           MAIT ## TTTGTTGTCGTTCAGA-1   cluster 4   cluster 6          CD4 T        CD4 TCM ##                           RNA.Azimuth.L3 RNA.singleR.L1 RNA.singleR.L2 ##                              <character>    <character>    <character> ## AAACCCAAGATTGTGA-1             CD14 Mono      Monocytes      Monocytes ## AAACCCACATCGGTTA-1             CD14 Mono      Monocytes      Monocytes ## AAACCCAGTACCGCGT-1             CD14 Mono      Monocytes      Monocytes ## AAACCCAGTATCGAAA-1                  NK_1       NK cells       NK cells ## AAACCCAGTCGTCATA-1                  NK_1       NK cells       NK cells ## ...                                  ...            ...            ... ## TTTGTTGGTTCAAGTC-1 B intermediate lambda       NK cells       NK cells ## TTTGTTGGTTGCATGT-1             CD8 Naive   CD8+ T-cells   CD8+ T-cells ## TTTGTTGGTTGCGGCT-1             CD14 Mono      Monocytes      Monocytes ## TTTGTTGTCGAGTGAG-1                  MAIT   CD8+ T-cells       CD4+ Tem ## TTTGTTGTCGTTCAGA-1             CD4 TCM_1   CD4+ T-cells       CD4+ Tcm ##                    ADT.citesort    ADT.citesort.rename ##                     <character>            <character> ## AAACCCAAGATTGTGA-1     147_leaf CD45RO- CD16- monocyte ## AAACCCACATCGGTTA-1     151_leaf CD45RA+ CD56+ CD16- .. ## AAACCCAGTACCGCGT-1     125_leaf CD45RA+ CD45RO- CD16.. ## AAACCCAGTATCGAAA-1      63_leaf    CD16+ CD56+ NK cell ## AAACCCAGTCGTCATA-1      63_leaf    CD16+ CD56+ NK cell ## ...                         ...                    ... ## TTTGTTGGTTCAAGTC-1      38_leaf CD16+ CD56+ TIGIT+ B.. ## TTTGTTGGTTGCATGT-1      23_leaf      naive CD8+ T cell ## TTTGTTGGTTGCGGCT-1      67_leaf CD45RA+ CD45RO- CD16.. ## TTTGTTGTCGAGTGAG-1     169_leaf central memory CD4+ .. ## TTTGTTGTCGTTCAGA-1     159_leaf central memory CD4+ .."},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"singlecellexperiment-object","dir":"Articles","previous_headings":"Input data requirements","what":"SingleCellExperiment object","title":"tagtango","text":"Providing SingleCellExperiment object, one also needs ensure data formatted specific manner. First, data normalized stored logcounts assay within SingleCellExperiment object. example, main text, CITE-seq data normalized using R package ADTnorm. Second, cell marker names within SingleCellExperiment object defined (ensure set NULL). Finally, different annotations stored columns colData within object. Likewise, object can contain principal components data calculated using different decomposition techniques reducedDims (see Amezquita et. al. 2020 information). Notice example SingleCellExperiment can used input tagtango can generated using:","code":"test_data[[\"ADT\"]] ## class: SingleCellExperiment  ## dim: 17 7472  ## metadata(1): Samples ## assays(1): logcounts ## rownames(17): CD3 CD4 ... IgG1 IgG2b ## rowData names(3): ID Symbol Type ## colnames(7472): AAACCCAAGATTGTGA-1 AAACCCACATCGGTTA-1 ... ##   TTTGTTGTCGAGTGAG-1 TTTGTTGTCGTTCAGA-1 ## colData names(20): Sample Barcode ... RNA.singleR.L2 ADT.citesort ## reducedDimNames(1): UMAP ## mainExpName: ADT ## altExpNames(0):"},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"data-frame-object","dir":"Articles","previous_headings":"Input data requirements","what":"Data frame object","title":"tagtango","text":"Providing data frame object simplest way run tagtango. application expects different annotations stored columns data frame. example data frame can used input tagtango can generated :","code":"MultiAssayExperiment::colData(test_data)"},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"supplementary-usage-scenario-comparing-spatial-transcriptomics-annotations","dir":"Articles","previous_headings":"","what":"Supplementary usage scenario: comparing spatial transcriptomics annotations","title":"tagtango","text":"highlight versatility tagtango, tested software different data modality. used annotated spatial transcriptomics dataset provided part spatialLIBD project (Maynard et. al., 2021;, Pardo et. al., 2022). data generated 10x Genomics Visium platform contain human brain tissue samples three healthy donors. particular, spatially adjacent replicates human dorsolateral prefrontal cortex tissue. dataset interesting investigates laminar structure brain cortex, providing several manual annotations different layers individual spots (considered `ground truth’) well several cluster-based annotations. Following input data requirements outlined , prepared dataset R studied tagtango. First, followed Pardo et. al., (2022), downloaded spatial transcriptomics dataset. data comes form SpatialExperiment R object. reshaped data SingleCellExperiment object using Notice spatial coordinates spatial transcriptomics dataset added columns colData object (also added part reducedDims object), calculated UMAP decomposition using R package scater (McCarthy et. al., 2017). Finally, object contains multiple samples spatial transcriptomics dataset; therefore, column names unique. Likewise, row names (.e. gene IDs) can also intuitive use gene names opposed ensembl names. fix , used: Using tagtango, compared sets annotations dataset. first interesting comparison consensus manual annotations one best performing unsupervised clustering method used (Maynard et. al., 2021). particular, focused differences ‘ground truth’ annotations annotations using highly variable genes scran (Lun et. al., 2016), 50 PCs dimension reduction, spatial coordinates features (.e. method HVG\\_PCA\\_spatial described Maynard et. al., 2021). Figure 1 explores comparison spots manually labelled White Matter (WM) annotated two different clusters unsupervised approach. Notice used tagtango filter results, focusing one sample (.e. labelled 151675) excluding non-tissue spots (.e. classified NA manual annotations). comparison identified key genes driving distinction sub-populations within manually annotated WM region. include known WM L5 marker genes MBP, , coupled fact spots cluster 4 intersect spots manually labelled L5 L6, suggests additional modularity within WM layer. Similarly, marker gene gray matter/neurons used define sample orientation Maynard et. al., 2021, SNAP25 also identified relevant. Finally, MOBP, gene identified top 10th variable markers across layers author comparison suggests also show level modularity within WM, also selected relevant. Notice multiple types comparisons performed tagtango. example, try understand differences way different co-authors study labelled spots, annotations also provided R package. Likewise, focus comparing full layers, reproducing authors results potentially identifying additional marker genes separating cortex layers.","code":"# Load libraries library(spatialLIBD) library(SingleCellExperiment) library(scater)  # Download data spe <- fetch_data(type = \"spe\") sce <- SingleCellExperiment(         list( logcounts = logcounts(spe) ),         colData = cbind( colData(spe), spatialCoords(spe) ),         rowData = rowData(spe)      )      sce <- runUMAP(sce, exprs_values = \"logcounts\") # Row names rownames(sce) <- rowData(sce)$gene_name  # Fix col names (they were not unique) colnames(sce) <- rownames(data.frame(colData(sce)))"},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"supplementary-usage-scenario-understanding-batch-effects","dir":"Articles","previous_headings":"","what":"Supplementary usage scenario: understanding batch effects","title":"tagtango","text":"interesting use case tagtango identification marker differences across batches. illustrate , used spatial dataset described previous section compare manually annotated brain layers donor IDs. Figure 2 explores differences WM donors Br8100 Br5595. case, see strong differences normalized expression several interesting genes. example, see large differences MBP, marker gene central manual annotations. Likewise, see batch effects notable genes CNP, identified Zeng et. al., 2021 brain cortex cell-type marker genes conserved Human Mouse. Finally, see also differences MOBP, highlighting gene variable across layers also across batches.","code":""},{"path":"https://bernibra.github.io/tagtango/articles/tagtango.html","id":"supplementary-usage-scenario-comparing-single-cell-datasets","dir":"Articles","previous_headings":"","what":"Supplementary usage scenario: comparing single-cell datasets","title":"tagtango","text":"final usage case scenario, showcased tagtango can used compare datasets. , used two independent 10x datasets: PBMCs healthy donor obtained 10x Genomics AllCells (10x Genomics, 2021), PBMCs form diseased Acute Lymphoblastic Leukemia donor obtained 10x Genomics Sanguine Biosciences (10x Genomics, 2024). order analyse datasets together tagtango, first independently processed annotated . , followed three-step process: first, downloaded corresponding h5 file 10x Genomics platform; processed dataset using R packages Seurat (Hao et. al., 2023), SingleCellExperiment (Amezquita et. al., 2020) scater (McCarthy et. al., 2017); use R packages celldex SingleR (Liu et. al., 2019) annotate single-cell datasets, identifying main cell types. R, processing dataset follows:} workflow provided us two annotated SingleCellExperiment, one healthy patient (.e.~sce\\_healthy) one cancer patient (.e.~sce\\_cancer). last step analysing files tagtango integrate objects, removing biologically irrelevant batch effects. , used packages scran (Lun et. al., 2016) batchelor (Haghverdi et. al., 2018) correct log-expression values via linear regression: Using tagtango, compared batch information annotations found singleR (Figure 3). particular, focused differences across cells annotated CD4+ T-cells across two datasets. , tagtango highlighted differences normalized expression several interesting genes, related immune response cancer. Notably, JUNB identified past gatekeeper certain type lymphoid leukemia (Ott et. al., 2007), LTB shown promote development T-cell acute lymphoblastic leukemia (Fernandes et. al., 2015). Likewise, genes CD27 IL-32 closely associated clinical outcome prognostic acute lymphoblastic leukemia patients (Chen et. al., 2017; Abobakr et. al., 2023; Shim et. al., 2022), links expression IL-7R TCF7 subsets patients (Oliveira et. al., 2019; Van Thillo et. al., 2021). Overall, tagtango able quickly identify genes associated lymphocyte development, transcriptional regulation, immune signaling pathways acute lymphoblastic leukemia patients. However, work required validate findings ensure biological relevance.","code":"# Load libraries library(Seurat) library(SingleCellExperiment) library(scater) library(SingleR) library(celldex)  # Set path to the h5 file downloaded from www.10xgenomics.com path <- \"path_to_h5_file\"  # Load raw data sce <- as.SingleCellExperiment(        CreateSeuratObject(             Seurat::Read10X_h5(path)        )  )  # calculate the proportion of mitochondrial reads mt.genes <- rownames(sce)[grep(\"^MT-\",rownames(sce))] sce <- addPerCellQC(sce, subsets = list(Mito = mt.genes))  # perform QC qc.lib <- isOutlier(sce$sum, log=TRUE, type=\"lower\") qc.nexprs <- isOutlier(sce$detected, log=TRUE, type=\"lower\") qc.mito <- isOutlier(sce$subsets_Mito_percent, type=\"higher\") sce$discard <- qc.lib | qc.nexprs | qc.mito sce <- sce[,!sce$discard]  # Normalize counts sce <- computeLibraryFactors(sce) sce <- logNormCounts(sce)  # Annotate dataset with SingleR ref <- BlueprintEncodeData() pred <- SingleR(test=sce, ref=ref, labels=ref$label.main) colData(sce) <- cbind(colData(sce), Main.labels = pred$labels) # Load libraries library(scran) library(batchelor)  # Find genes in common universe <- intersect(rownames(sce_cancer_clean), rownames(sce_healthy_clean))  # Variance model dec_cancer_clean <- modelGeneVarByPoisson(sce_cancer)[universe,] dec_healthy_clean <- modelGeneVarByPoisson(sce_healthy)[universe,]  # Find HVGs combined.dec <- combineVar(dec_cancer_clean, dec_healthy_clean) chosen.hvgs <- combined.dec$bio > 0  # Per-batch scaling normalization rescaled <- multiBatchNorm(sce_cancer[universe,], sce_healthy[universe,]) pbmc_cancer <- rescaled[[1]] pbmc_healthy <- rescaled[[2]]  # Merge datasets and calculate TSNA rescaled <- rescaleBatches(pbmc_cancer, pbmc_healthy) rescaled <- runPCA(rescaled, subset_row=chosen.hvgs,                  exprs_values=\"corrected\",                  BSPARAM=BiocSingular::RandomParam()) rescaled <- runTSNE(rescaled, dimred=\"PCA\")  # Copy annotations and batch information rescaled$batch <- factor(rescaled$batch, levels = c(1,2), labels = c(\"cancer\", \"healthy\")) rescaled$annotations <- c(pbmc_cancer$Main.labels, pbmc_healthy$Main.labels)"},{"path":"https://bernibra.github.io/tagtango/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Bernat Bramon Mora. Author, maintainer.","code":""},{"path":"https://bernibra.github.io/tagtango/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bramon Mora B (2024). tagtango: web app comparing cell annotations clusterings. R package version 1.0.0, https://bernibra.github.io/tagtango.","code":"@Manual{,   title = {tagtango: A web app for comparing cell annotations or clusterings},   author = {Bernat {Bramon Mora}},   year = {2024},   note = {R package version 1.0.0},   url = {https://bernibra.github.io/tagtango}, }"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"tagtango","dir":"","previous_headings":"","what":"A web app for comparing cell annotations or clusterings","title":"A web app for comparing cell annotations or clusterings","text":"Welcome tagtango project! tagtango powerful web application designed comprehensive analysis comparison multiple cell annotations performed single-cell dataset. Leveraging different data modalities, tool allows untangle differences similarities cell populations, effectively distinguishing real differences across cell annotations background noise. web application currently accessible online . Please note server hosting app operating limited RAM memory may experience difficulties handling high traffic. soon upgrading robust hosting solution.","code":""},{"path":"https://bernibra.github.io/tagtango/index.html","id":"running-the-app-locally-using-r","dir":"","previous_headings":"","what":"Running the app locally using R","title":"A web app for comparing cell annotations or clusterings","text":"prefer running app locally, can also install R package Github run:","code":"# install.packages(\"remotes\") BiocManager::install(\"bernibra/tagtango\") tagtango::run_app()"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"running-the-app-locally-using-docker","dir":"","previous_headings":"","what":"Running the app locally using Docker","title":"A web app for comparing cell annotations or clusterings","text":"Alternatively installing tagtango using R, one can simply run Docker container, handle dependencies deploy app locally computer. , first need clone repository machine using Git terminal: project cloned, can access directory build docker container using Note need Docker installed machine. project built, can run container via use app web browser web address http://0.0.0.0:3838","code":"git clone https://github.com/bernibra/tagtango.git docker build --rm --force-rm -t tagtango . docker run -p 3838:3838 tagtango"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"input-data-requirements","dir":"","previous_headings":"","what":"Input Data Requirements","title":"A web app for comparing cell annotations or clusterings","text":"now, please aware hosting server limitations, dataset size exceed 1GB (use maxRequestSize parameter running application locally increase limit risk). advise accessing web application phone screen visualization may optimal. best user experience, recommend using desktop tablet device.","code":""},{"path":"https://bernibra.github.io/tagtango/index.html","id":"accepted-data-formats","dir":"","previous_headings":"Input Data Requirements","what":"Accepted Data Formats","title":"A web app for comparing cell annotations or clusterings","text":"tagtango app flexible handling various data types. now, however, accepts input form either MultiAssayExperiment object stored RDS file, SingleCellExperiment object stored RDS file, data.frame stored RDS, CSV, TSV file. Expect change near future.","code":""},{"path":"https://bernibra.github.io/tagtango/index.html","id":"multiassayexperiment-object-expectations","dir":"","previous_headings":"Input Data Requirements","what":"MultiAssayExperiment Object Expectations","title":"A web app for comparing cell annotations or clusterings","text":"providing MultiAssayExperiment object, ensure following criteria met: elements ExperimentList container SingleCellExperiments following specifications stated . cells elements ExperimentList (matching names). Different annotations stored columns colData data.frame within object. test dataset, preprocessed annotated 10x dataset provided package. MultiAssayExperiment Peripheral Blood Mononuclear Cells (PBMCs) healthy donor stained TotalSeq-B antibodies, readily accessible via: Notice column row names SingleCellExperiment ExperimentList object NULL, different annotations stored MultiAssayExperiment::colData(test_sce).","code":"library(tagtango) data(test_data) test_data #> A MultiAssayExperiment object of 2 listed #>  experiments with user-defined names and respective classes. #>  Containing an #> ExperimentList class object of length 2: #>  [1] RNA: SingleCellExperiment with 33538 rows and 7472 columns #>  [2] ADT: SingleCellExperiment with 17 rows and 7472 columns #> Functionality: #>  experiments() - obtain the ExperimentList instance #>  colData() - the primary/phenotype DataFrame #>  sampleMap() - the sample coordination DataFrame #>  `$`, `[`, `[[` - extract colData columns, subset, or experiment #>  *Format() - convert into a long or wide DataFrame #>  assays() - convert ExperimentList to a SimpleList of matrices #>  exportClass() - save data to flat files"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"singlecellexperiment-object-expectations","dir":"","previous_headings":"Input Data Requirements","what":"SingleCellExperiment Object Expectations","title":"A web app for comparing cell annotations or clusterings","text":"providing SingleCellExperiment object, ensure following criteria met: data normalized stored logcounts assay within SingleCellExperiment object. example, manuscript, CITE-seq data normalized using R package ADTnorm. Define unique row column names within SingleCellExperiment object. Different annotations stored columns colData data.frame within object. example SingleCellExperiment can used input tagtango can generated :","code":"test_data[[\"ADT\"]]"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"dataframe-expectations","dir":"","previous_headings":"Input Data Requirements","what":"data.frame Expectations","title":"A web app for comparing cell annotations or clusterings","text":"providing data.frame, app expects different annotations stored columns. example data.frame can used input tagtango can generated :","code":"MultiAssayExperiment::colData(test_data)"},{"path":"https://bernibra.github.io/tagtango/index.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"A web app for comparing cell annotations or clusterings","text":"Please note tagtango project released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/bar_diff.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a ggplot bar plot with marker differences — bar_diff","title":"Generate a ggplot bar plot with marker differences — bar_diff","text":"function generate barlot `tagtango' .","code":""},{"path":"https://bernibra.github.io/tagtango/reference/bar_diff.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a ggplot bar plot with marker differences — bar_diff","text":"","code":"bar_diff(   norm,   data,   first_selection,   second_selection,   n_bars = 10,   valley = NULL,   palette = \"BrBG\",   quant = NULL )"},{"path":"https://bernibra.github.io/tagtango/reference/bar_diff.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a ggplot bar plot with marker differences — bar_diff","text":"norm normalized expression data cells rows columns markers/genes (.e. function `process_data()' provide attribute `data') data data.frame different annotations, row represent cell. rownames match `norm' (.e. function `process_data()' provide attribute `network'). first_selection boolean array first selection cells TRUE values, cells `data'. second_selection boolean array second selection cells TRUE values, cells `data'. n_bars integer value, defines number bars plot, selecting \"relevant\". array marker names, uses . valley value `norm' corresponding valley separating positive negative peak CITE-seq data. palette color palette, default \"BrBG\" quant position positive negative peak normalized data.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/bar_diff.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a ggplot bar plot with marker differences — bar_diff","text":"returns list containing ggplot object list markers selected used.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://bernibra.github.io/tagtango/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling `rhs(lhs)`.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/process_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Process data as the shiny application — process_data","title":"Process data as the shiny application — process_data","text":"utility function reading processing data `tagtango' .","code":""},{"path":"https://bernibra.github.io/tagtango/reference/process_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Process data as the shiny application — process_data","text":"","code":"process_data(   filename,   data_type,   left,   right,   pc1_axis1 = NULL,   pc1_axis2 = NULL,   pc2_axis1 = NULL,   pc2_axis2 = NULL,   filter_variable = NULL,   filter_values = NULL,   grouping_variable = NULL,   grouping_values = NULL,   min_counts = NULL,   dimension = NULL,   input_data = NULL )"},{"path":"https://bernibra.github.io/tagtango/reference/process_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Process data as the shiny application — process_data","text":"filename path data file data_type experiment used MultiAssayExperiment data contained logcounts SingleCellExperiment left annotation left diagram right annotation right diagram pc1_axis1 first axis first dimension reduction space pc1_axis2 second axis first dimension reduction space pc2_axis1 first axis second dimension reduction space pc2_axis2 second axis second dimension reduction space filter_variable filtering variable found `dat' filter_values values `filter_variable' need excluded grouping_variable grouping variable found `dat' grouping_values values `grouping_variable' need filtered min_counts minimum number cells link displayed dimension internal variable determine whether data data frame (=0), low-dimension dataset (=1), high-dimension dataset (=2). input_data object inputed directly.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/process_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Process data as the shiny application — process_data","text":"Returns list containing two attributes: data network. first contains data filtered according grouping filtering values. second, contains data organized manner readible sankeyNetwork.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/rose_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a ggplot rose plot with marker expression — rose_plot","title":"Generate a ggplot rose plot with marker expression — rose_plot","text":"function generate rose plot `tagtango' .","code":""},{"path":"https://bernibra.github.io/tagtango/reference/rose_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a ggplot rose plot with marker expression — rose_plot","text":"","code":"rose_plot(   norm,   data,   selected,   n_petals = 10,   title = NULL,   valley = NULL,   palette = \"RdYlGn\",   quant = c(1, 6),   ... )"},{"path":"https://bernibra.github.io/tagtango/reference/rose_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a ggplot rose plot with marker expression — rose_plot","text":"norm normalized expression data cells rows columns markers/genes (.e. function `process_data()' provide attribute `data') data data.frame different annotations, row represent cell. rownames match `norm' (.e. function `process_data()' provide attribute `network'). selected boolean array selected cells TRUE values, cells `data'. n_petals integer value, defines number petals rose plot, selecting \"relevant\". array marker names, uses . title main plot title. Default `NULL'. valley value `norm' corresponding valley separating positive negative peak CITE-seq data. palette color palette, default \"RdYlGn\". quant position positive negative peak normalized data. ... parameters passed underlying function.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/rose_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a ggplot rose plot with marker expression — rose_plot","text":"returns ggplot object.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/run_app.html","id":null,"dir":"Reference","previous_headings":"","what":"Run the Shiny Application — run_app","title":"Run the Shiny Application — run_app","text":"Run Shiny Application","code":""},{"path":"https://bernibra.github.io/tagtango/reference/run_app.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Run the Shiny Application — run_app","text":"","code":"run_app(   onStart = NULL,   options = list(),   enableBookmarking = NULL,   uiPattern = \"/\",   maxRequestSize = 3000 * 1024^2,   input_data = NULL,   ... )"},{"path":"https://bernibra.github.io/tagtango/reference/run_app.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Run the Shiny Application — run_app","text":"onStart function called app actually run. needed shinyAppObj, since shinyAppDir case, global.R file can used purpose. options Named options passed runApp call (can following: \"port\", \"launch.browser\", \"host\", \"quiet\", \"display.mode\" \"test.mode\"). can also specify width height parameters provide hint embedding environment ideal height/width app. enableBookmarking Can one \"url\", \"server\", \"disable\". default value, NULL, respect setting previous calls  enableBookmarking(). See enableBookmarking() information bookmarking app. uiPattern regular expression applied GET request determine whether ui used handle request. Note entire request path must match regular expression order match considered successful. maxRequestSize maximum file size allowed application, bytes. Default 3Gb. Increase risk. input_data dataset added via command line. skip process uploading data unless data malformatted. ... arguments pass golem_opts. See `?golem::get_golem_options' details.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/scatter_plot.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a ggplot scatter plot — scatter_plot","title":"Generate a ggplot scatter plot — scatter_plot","text":"function generate scatter plot `tagtango' .","code":""},{"path":"https://bernibra.github.io/tagtango/reference/scatter_plot.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a ggplot scatter plot — scatter_plot","text":"","code":"scatter_plot(   data,   labels,   values = c(\"a\", \"b\"),   title = \"UMAP of the RNA data\",   xlabel = \"first axis\",   ylabel = \"second axis\" )"},{"path":"https://bernibra.github.io/tagtango/reference/scatter_plot.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a ggplot scatter plot — scatter_plot","text":"data data.frame dimension reduction axes. labels array labels first (potentially second selections), cells `data'. values boolean array second selection cells TRUE values, cells `data'. title boolean array second selection cells TRUE values, cells `data'. xlabel text x axis. ylabel text y axis.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/scatter_plot.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a ggplot scatter plot — scatter_plot","text":"returns ggplot object.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/test_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Test CITE-seq data — test_data","title":"Test CITE-seq data — test_data","text":"subset 10x dataset: 10k PBMCs healthy donor - gene expression cell surface protein, single cell gene expression (Single Cell Gene Expression Dataset Cell Ranger 3.0.0) Peripheral blood mononuclear cells (PBMCs) healthy donor stained TotalSeq-B antibodies.","code":""},{"path":"https://bernibra.github.io/tagtango/reference/test_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Test CITE-seq data — test_data","text":"","code":"data(\"test_data\")"},{"path":"https://bernibra.github.io/tagtango/reference/test_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Test CITE-seq data — test_data","text":"## `test_data` SingleCellExperiment 7472 cells, 17 protein markers, 33538 gene IDs: date November 19, 2018","code":""},{"path":"https://bernibra.github.io/tagtango/reference/test_data.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Test CITE-seq data — test_data","text":"<https://support.10xgenomics.com/single-cell-gene-expression/datasets/3.0.0/pbmc_10k_protein_v3>","code":""}]
